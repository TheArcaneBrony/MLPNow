$(function(){var e=MLPNow.Pony,t=new RegExp("("+e.longNames.join("|")+")","g"),a=function(e,t){var a=RELPATH+"css/overrides.css.php?name="+t;0===$('header style[href="'+a+'"]').length&&$(document.createElement("link")).attr({rel:"stylesheet",href:RELPATH+"css/overrides.css.php?name="+t}).appendTo("head").load(function(){$('head style[data-href*="overrides.css.php"],head link[rel="stylesheet"][href*="overrides.css.php"]').filter(':not([href="'+a+'"])').remove()}),$(".changelog > li > .version, .left-col.grid-70 .title > h1").each(function(){var e=$(this),a=e.data("orig-class");"string"!=typeof a&&e.data("orig-class",e.attr("class").trim()),e.attr("class",a+" "+t)})};$(".changelog > li > ul > li").each(function(){var e=$(this);e.children(".newPonyNames").length>0&&(e=e.children(".newPonyNames").children()),0===e.children(":not(.li)").length&&e.each(function(){var e=$(this).html();t.test(e)&&$(this).html(e.replace(t,'<a class="pony-icon">$1</a>'))})}),$(".changelog > li > .version, .left-col.grid-70 .title > h1").each(function(){var e=$(this),t=e.data("orig-class");"string"!=typeof t&&(e.data("orig-class",(e.attr("class")||"").trim()),t=e.data("orig-class")),e.attr("class",(t.length>0?t+" ":"")+MLPNow.pref.name)}),parent.$("#version").text()!==$(".log-entry:first > .version").text()&&parent.$("#version").text($(".log-entry:first > .version").text().substring(1)),$(".pony-icon").each(function(){var t=$(this),a=t.html(),s=e.longNames,n=(e.shortNames,s.indexOf(a));"undefined"!=typeof e.colors[n]&&t.css("color",e.colors[n]).addClass(e.shortNames[n]),t.attr("href",RELPATH+"?name="+e.shortNames[n])}).on("click",function(t){t.preventDefault();var s=$(this).text().trim();if(2===t.wich)window.open($(this).attr("href"),"_blank");else if(isframed)parent.changeBGImage.call({callback:a},e.longNames.indexOf(s));else{var n=e.shortNames[e.longNames.indexOf(s)];$.post("prefupdate",{name:"name",value:n},function(e){e.status&&a("name",n)})}return!1})});
//# sourceMappingURL=changelog.min.js.map
